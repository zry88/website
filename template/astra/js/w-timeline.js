(function(e){"use strict";e.fn.wTimeline=function(){return this.each(function(){function h(){s.css({width:t.innerWidth()-s.css("border-left-width")-s.css("border-right-width")+"px"}),e(r).css({width:s.innerWidth()-f+"px"});if(e(window).width()<768){t.hasClass("type_vertical")||t.addClass("type_vertical");if(c===!0||c===undefined)s.css({height:"auto",overflow:"visible"}),e(r).css({"float":"none"}),e(r).each(function(t,n){var r=e(n).find(".w-timeline-section-content");e(n).hasClass("active")||r.css("display","none"),s.append(n)}),u.remove(),c=!1}else{t.hasClass("type_vertical")&&t.removeClass("type_vertical"),s.css({height:e(r[l]).outerHeight()+"px",overflow:"hidden"}),o=r.length*s.innerWidth();var n=-l*s.innerWidth();u.css({width:o+"px",height:e(r[l]).outerHeight()+"px",left:n});if(c===!1||c===undefined)u=e("<div></div>",{id:"section_container"}).css({position:"relative"}),e(r).css({"float":"left"}),e(r).each(function(t,n){var r=e(n).find(".w-timeline-section-content");r.css({display:"block",height:"auto"}),u.append(n)}),u.css({width:o+"px",height:e(r[l]).outerHeight()+"px",left:n}),s.append(u),c=!0}}var t=e(this),n=t.find(".w-timeline-item"),r=t.find(".w-timeline-section"),i=!1,s=t.find(".w-timeline-sections"),o=0,u=e("<div></div>",{id:"section_container"}).css({position:"relative"}),a=null,f=e(r[0]).innerWidth()-e(r[0]).width(),l=0,c;e(r).css({display:"block"}),e(s).css({position:"relative"}),h(),e(window).resize(function(){window.clearTimeout(a),a=window.setTimeout(function(){h()},50)}),r.each(function(t,o){var a=e(o),f=e(n[t]),c=a.find(".w-timeline-section-title"),h=a.find(".w-timeline-section-content");f.length&&f.click(function(){if(!a.hasClass("active")&&!i){i=!0,n.each(function(){e(this).hasClass("active")&&e(this).removeClass("active")}),f.length&&f.addClass("active");var o=-t*s.innerWidth();s.animate({height:a.outerHeight()},300),u.animate({left:o},300,function(){r.each(function(){e(this).hasClass("active")&&e(this).removeClass("active")}),a.addClass("active"),l=t,i=!1})}}),c.length&&c.click(function(){if(!a.hasClass("active")&&!i){i=!0;var s,o;n.each(function(){e(this).hasClass("active")&&e(this).removeClass("active")}),f.length&&f.addClass("active"),r.each(function(){e(this).hasClass("active")&&(s=e(this).find(".w-timeline-section-content").height(),e(this).find(".w-timeline-section-content").slideUp())}),o=h.height(),l<t&&e("html").animate({scrollTop:e("html").scrollTop()-s}),h.slideDown(null,function(){r.each(function(){e(this).hasClass("active")&&e(this).removeClass("active")}),a.addClass("active"),l=t,i=!1})}})})})}})(jQuery),jQuery(document).ready(function(){"use strict";jQuery(".w-timeline").wTimeline()});